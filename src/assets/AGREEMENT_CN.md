由于现有 API 的限制，`推送通知`功能是由第三方服务提供，其与清华大学没有关联。实现推送通知的方法可能会对你的账户安全构成威胁。请仔细阅读以下声明，并自行决定是否需要此服务。你需要先了解并同意本声明，才能使用本 App 的`推送通知`功能。

> 注意：
>
> 此处的`推送通知`为远程通知；如果你只需要本地`提醒的推送通知`，你可能不需要开启这个服务。

### 局限

由于本应用不是官方 App，在没有学校服务器权限的情况下我无法搭建实时的推送服务。

### 机制

为了模仿推送行为，我使用了第三方服务 `Firebase`，每隔几分钟进行轮询，再将新内容推送至 App。

- 首先，你需要通过 `Firebase Auth` 提供的用户服务新建一个账户。该账户与你的清华账户完全独立，仅用于`推送通知`。
- 开启`推送通知`后，App 会将你的清华用户名、密码以及设备标识符上传到后端，并保存在新建账号名下。
- 你的清华密码会经过 `AES` 算法加密，然后存储到数据库中。
- 每隔几分钟，后端会从数据库中取出加密后的密码并解密，并利用解密后的原始密码访问 API，并将新内容通过设备标识符推送到你的设备。

### 安全

以下几种情况可以用来说明`推送通知`服务的安全问题：

- 攻击者获得了我的 Google 账户的全部权限，即获得了 Firebase 服务的管理员权限。你的密码就泄露了，因为攻击者能够拿到 AES 加密密钥。
- 攻击者获得了你的 Firebase Auth 账户的全部权限。你的密码仍是安全的，因为攻击者不知道加密密钥。
- 攻击者攻破了 Firebase 数据库。你的密码仍是安全的，因为攻击者不知道加密密钥。
- 攻击者获得了 AES 加密密钥。你的密码会暂时有暴露的风险。当我更改加密密钥并重新加密你的密码后，此风险就会被消除。
- *我就是攻击者*。你的密码就泄露了，因为我知道 AES 加密密钥。

### 要求

- 你需要给予 App 合适的推送通知权限。
- Android 用户需要确保设备上有可用的 Google 服务，才能正确地接收通知。

---

按下`我已知悉`按钮，即代表你已知晓且同意[隐私政策](https://learnx.robertying.io/cn/privacy)及上述声明。
